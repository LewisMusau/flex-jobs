{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="login">
  <h1>Sign In</h1>
  
  <form action="{% url 'register:login' %}" method="POST">
    {% csrf_token %}
    {% for message in messages %}
      {% if message.tags == 'error' %}
        <p class="error-message">{{ message }}</p>
      {% endif %}
    {% endfor %}
    <div class="form-group">
      <ion-icon name="person-outline"></ion-icon>
      <label for="username">Username</label>
      <input type="text" id="username" name="username" required>
    </div>
    <div class="form-group">
      <ion-icon name="lock-closed-outline"></ion-icon>
      <label for="password">Password</label>
      <input type="password" id="password" name="password" required>
    </div>
    <p class="text">
      <a href="{% url 'register:forgotpassword' %}" class="forgot">Forgot Password?</a>
    </p>
    <button type="submit" class="btn">Login</button>
    <p class="text">Don't have an account? 
      <a href="{% url 'register:register' %}">Create Account</a>
    </p>
    <div class="line"></div>

    <div class="media-options">
      <a href="#" class="field facebook">
        <i class='bx bxl-facebook facebook-icon'></i>
        <span>Login with Facebook</span>
      </a>
    </div>

    <div class="media-options">
      <a href="#" class="field google">
        <ion-icon name="logo-google" class="google-icon"></ion-icon>
        <span>Login with Google</span>
      </a>
    </div>

  </form> 
</div>
<script>
  // Hide success message after 10 seconds
  setTimeout(function() {
    var successMessage = document.querySelector('.success-message');
    if (successMessage) {
      successMessage.style.display = 'none';
    }
  }, 10000);
</script>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'register/main2.css' %}">
<style>
  .error-message {
    color: red;
    margin-bottom: 10px;
  }
</style>
{% endblock %}
